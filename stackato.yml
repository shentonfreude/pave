name: pave

#PYTHONPATH needed in env so we can find module 'project'

env:
  DJANGO_SETTINGS_MODULE: settings
  PYTHONPATH: pave

requirements:
  pypm:
    - django
    - mysql-python

services:
  mysql: mysql-pave

#postgresql: postgresql-pave

ignores:
  - .git
  - dev.db
  - db.sqlite
  - bin
  - include
  - lib
  - doc
  - pave/db
  - apache
  
# Serve the app and map "/static" to our collected static dir

processes:
  web: $STACKATO_UWSGI --static-map /static=$HOME/pave/static-collected

hooks:
  post-staging:
    - python pave/manage.py collectstatic --noinput
#    - python pave/manage.py syncdb --noinput
